# 更新日志

本文件记录「农历生日提醒」项目的重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [Unreleased]

### 新增

#### cursor 项目
- 添加 **InfoTooltip** 组件，支持悬停显示提示信息，使用 Portal 渲染避免遮挡
- 添加表单输入校验，实时验证姓名、农历月份、日期的有效性，只有输入合法时保存按钮才可用
- 日历卡片新增"本月生日人数"统计，使用等宽字体显示数字
- 支持点击生日列表项快速跳转到对应的生日月份
- 集成月份切换控件到日历卡片内部，优化布局结构

### 优化

#### cursor 项目
- **UI 优化**：
  - 调整日历卡片布局，将标题、月份切换、生日统计重新组织为两行结构
  - 优化"未来 7 天提醒"模块高度和间距，视觉更紧凑
  - 统一"未来 7 天提醒"和"生日列表"的字体大小
  - 统一副标题字体大小为 13px
  - 关系标签使用浅灰色 (#718096)，视觉层次更分明
  - "本月生日人数"数字使用等宽字体，避免数字变化时抖动
  - 日历卡片标题字体大小调整为 20px，与"生日列表"一致

- **交互优化**：
  - InfoTooltip 智能检测屏幕边缘，自动调整显示位置
  - 表单校验实时反馈，按钮禁用状态清晰可见
  - 优化按钮 hover 效果，禁用状态下不触发动画

- **布局优化**：
  - 移除日历下方的提示卡片，将提示信息集成到"添加生日"按钮的 InfoTooltip 中
  - 月份切换控件移到日历卡片内部左侧
  - "显示中国法定节假日"开关移到日历卡片内部右侧
  - "本月生日人数"固定在日历卡片右上角

### 修复

#### 部署与构建
- 修复 GitHub Pages 子路径部署时静态资源 404：站点部署在 `/lunar-birthday-reminder/` 下，资源需带此前缀或使用相对路径
- **cursor / gemini**：Vite 使用相对路径 `base: './'`，适配任意子路径
- **kimi**：构建时设置 `BASE_PATH=/lunar-birthday-reminder/kimi/`，避免访问 `.../kimi`（无尾部斜杠）时相对路径解析错误导致 404
- **coze**：Next.js 构建时设置 `BASE_PATH` 与 `ASSET_PREFIX` 为 `/lunar-birthday-reminder/coze`，修复 `/_next/static/` 资源 404
- 移除 gemini `index.html` 中错误的 `/index.css` 引用

#### cursor 项目
- 修复日历周起始日，从周一改为周日，符合国内使用习惯
- 修复跨年生日的日历显示逻辑，正确标记农历12月的生日
- 修复生日列表重复显示同一人的问题
- 修复生日tooltip在边缘被遮挡的问题，自动检测并调整显示位置
- 优化性能：使用 useCallback 避免不必要的函数重新创建
- 优化日历显示：隐藏非当前月份的单元格（完全透明占位）
- 修复"显示中国法定节假日"开关无法点击的问题（缺少 onToggle 回调传递）

#### coze 项目
- 调整生日列表中农历和阳历标签的间距，使用 `gap-4` 保持适当距离

### 更改

#### gemini 项目
- UI文案调整：将"小伙伴们"改为"生日列表"
- 生日列表增强：卡片中新增阳历生日日期信息显示
- 优化布局：农历和阳历生日使用 `gap-3` 保持适当距离

#### kimi 项目
- UI文案调整：将"小伙伴们"改为"生日列表"
- 生日列表增强：卡片中新增阳历生日日期信息显示
- 优化布局：农历和阳历生日使用 `gap-3` 保持适当距离
- 更新多语言翻译：添加 `solar` 字段支持

## 1.0.0

### 新增

- 项目根目录文档：README、CONTRIBUTING、CHANGELOG、LICENSE、.gitignore，便于发布到 GitHub

### 说明

- **coze**：Next.js 16 + shadcn/ui，扣子编程 CLI 创建，使用 pnpm
- **cursor**：Vite + React (JSX)，轻量实现
- **gemini**：Vite + React (TypeScript)，AI Studio 导出版
- **kimi**：Vite + React (TypeScript) + 多语言，Tailwind 样式

---

*首次发布前的历史改动未在此逐条列出，后续版本将在此追加。*
